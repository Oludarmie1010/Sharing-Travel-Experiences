:root { color-scheme: light dark; }
* { box-sizing: border-box; }
html, body, #root { height: 100%; margin: 0; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.45; background:#fafafa; color:#111; }
.container { max-width: 960px; margin: 0 auto; padding: 1rem; }
.row { display: flex; gap: .75rem; flex-wrap: wrap; }
.btn { padding: .6rem .9rem; border: 1px solid #ccc; border-radius: .5rem; background: #fff; cursor: pointer; }
.btn.primary { background: #111; color: #fff; border-color: #111; }
.input, .select, .textarea { width: 100%; padding: .6rem .7rem; border: 1px solid #ccc; border-radius: .5rem; background: #fff; color: #111; }
.textarea { min-height: 8rem; }
.card { border: 1px solid #e5e5e5; border-radius: .75rem; padding: 1rem; background: #fff; }
.label { font-size: .9rem; color: #555; }
.meta { font-size: .85rem; color: #666; }
nav a { text-decoration: none; color: inherit; padding: .4rem .6rem; border-radius: .4rem; }
nav a.active { background: #111; color: #fff; }
ul.reset { list-style: none; padding: 0; margin: 0; }

/* Dark theme */
[data-theme='dark'] body { background:#0f1115; color:#e9eaee; }
[data-theme='dark'] .card { background:#171a21; border-color:#2a2f3a; }
[data-theme='dark'] .btn { background:#1c212b; color:#e9eaee; border-color:#2a2f3a; }
[data-theme='dark'] .btn.primary { background:#e9eaee; color:#0f1115; border-color:#e9eaee; }
[data-theme='dark'] .input, [data-theme='dark'] .select, [data-theme='dark'] .textarea {
  background:#1c212b; border-color:#2a2f3a; color:#e9eaee;
}
[data-theme='dark'] .label { color:#b7bcc6; }
[data-theme='dark'] .meta { color:#9aa1ad; }
[data-theme='dark'] nav a.active { background:#e9eaee; color:#0f1115; }



/* Mobile-first defaults */
*,
*::before,
*::after { box-sizing: border-box; }

html { font-size: 16px; }
body { -webkit-text-size-adjust: 100%; }

.input, .select, .textarea, .btn {
  min-height: 44px;              
  font-size: 1rem;
}

ul.reset {
  display: grid;
  grid-template-columns: 1fr;    
  gap: 1rem;
}

ul.reset li.card {
  padding: 1rem;
}

ul.reset li.card img {
  width: 100%;
  height: auto;                   
  max-height: 220px;
  object-fit: cover;
  border-radius: 0.5rem;
}


.settings .settings-row {
  display: flex;
  flex-wrap: wrap;
  gap: .75rem;
  align-items: flex-start;
}

.settings .field-col {
  flex: 1 1 320px;
  min-width: 260px;
}

.settings .field-col.compact {
  flex: 0 1 220px;
  min-width: 200px;
}

.settings .checkbox {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .5rem .75rem;
  border: 1px solid var(--border, #e7e7e7);
  border-radius: .5rem;
  background: var(--surface, #fafafa);
  cursor: pointer;
  user-select: none;
}

.settings .checkbox input {
  accent-color: var(--accent, #2563eb);
}

.settings .settings-divider {
  margin: 1.25rem 0;
  border: none;
  height: 1px;
  background: var(--border, #e7e7e7);
}

.settings .input,
.settings .select,
.settings .textarea {
  width: 100%;
}

/* StoryPage */
.story-page h2 {
  margin-top: .25rem;
  margin-bottom: .25rem;
}

.story-page .meta {
  color: var(--text-muted, #6b7280);
}

/* Public banner */
.story-banner {
  margin-bottom: 1rem;
  border-style: dashed;
  background: var(--surface-soft, #fafafa);
}

/* Actions row */
.story-actions {
  margin-top: 1rem;
  flex-wrap: wrap;
  gap: .5rem;
}
.story-actions .btn {
  flex: 0 0 auto;
}

/* gallery */
.story-gallery {
  margin-top: 1rem;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: .5rem;
}
.story-gallery img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: .5rem;
  display: block;
}

/* Comments */
.story-page h3 {
  margin-top: 1.25rem;
  margin-bottom: .5rem;
}
.comment-list {
  list-style: none;
  padding: 0;
  margin: 0 0 1rem;
}
.comment-list li {
  padding: .5rem .75rem;
  border: 1px solid var(--border, #e5e7eb);
  border-radius: .5rem;
  margin-bottom: .5rem;
  background: var(--surface, #fff);
}
.comment-list small {
  display: block;
  margin-top: .25rem;
  color: var(--text-muted, #6b7280);
}

/* Inputs in comment composer */
.story-page .row .input {
  min-width: 0; 
}

/* Responsive  */
@media (max-width: 1024px) {
  .story-gallery {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media (max-width: 768px) {
  .story-gallery {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 480px) {
  .story-gallery {
    grid-template-columns: 1fr;
  }
}

/* Mobile adjustments */
@media (max-width: 640px) {
  .settings .field-col,
  .settings .field-col.compact {
    flex: 1 1 100%;
    min-width: 100%;
  }
  .settings .checkbox {
    width: 100%;
  }
}

:root[data-theme="dark"] .settings .checkbox {
  background: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.12);
}

/* Filter row stacks on phones */
section.card .row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
}
@media (max-width: 640px) {
  section.card .row {
    flex-direction: column;       
  }
  .input, .select, .textarea, .btn {
    width: 100%;                
  }
  section.card {
    padding: 1rem;               
  }
}

/* Scale up to tablets/desktops */
@media (min-width: 640px) {
  ul.reset {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (min-width: 1024px) {
  ul.reset {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Fluid headings for all pages using .card sections */
section.card h2 { font-size: clamp(1.2rem, 2.5vw, 1.6rem); }
section.card h3 { font-size: clamp(1.05rem, 2vw, 1.25rem); }

.btn:active {
  transform: translateY(1px);
}

@media (prefers-color-scheme: dark) {
  section.card {
    background: #111;
    color: #eaeaea;
    box-shadow: none;
  }
  .meta { color: #9aa0a6; }
  .btn { background: #1e1e1e; border-color: #333; color: #eaeaea; }
  .select, .input, .textarea {
    background: #0f0f0f; border-color: #333; color: #eaeaea;
  }
}

.timeline-page h2,
section.card h2 {
  margin-bottom: .25rem;
}

section.card > .card {
  background: var(--surface-soft, #fafafa);
  border-style: dashed;
}
section.card > .card .meta {
  color: var(--text-muted, #6b7280);
}

.timeline-page .row,
section.card > .row {
  gap: .5rem;
  flex-wrap: wrap;
}

.timeline-page .row .input,
section.card > .row .input {
  flex: 1 1 260px;
  min-width: 0; 
}

.timeline-page .row .select,
section.card > .row .select {
  flex: 0 0 180px;
}

/* --- Count label --- */
.timeline-page .meta,
section.card .meta {
  color: var(--text-muted, #6b7280);
}

/* --- List items (cards) --- */
.timeline-page ul.reset > li.card,
section.card ul.reset > li.card {
  margin-bottom: .75rem;
}

/* Thumbnail inside timeline card */
.timeline-page ul.reset > li.card img,
section.card ul.reset > li.card img {
  width: 100%;
  max-height: 200px;
  object-fit: cover;
  border-radius: .5rem;
  margin-top: .5rem;
  display: block;
}

/* Title spacing */
.timeline-page ul.reset > li.card h3,
section.card ul.reset > li.card h3 {
  margin-top: .3rem;
  margin-bottom: .25rem;
}

/* Tags line */
.timeline-page ul.reset > li.card p.meta,
section.card ul.reset > li.card p.meta {
  margin-top: .25rem;
}

/* Action buttons row */
.timeline-page ul.reset > li.card .row,
section.card ul.reset > li.card .row {
  gap: .5rem;
  flex-wrap: wrap;
}

.timeline-page ul.reset > li.card .btn,
section.card ul.reset > li.card .btn {
  flex: 0 0 auto;
}


@media (max-width: 768px) {
  .timeline-page .row .select,
  section.card > .row .select {
    flex: 0 0 150px;
  }
  .timeline-page ul.reset > li.card img,
  section.card ul.reset > li.card img {
    max-height: 180px;
  }
}

@media (max-width: 480px) {
  .timeline-page .row .select,
  section.card > .row .select {
    flex: 1 1 140px; 
  }
  .timeline-page ul.reset > li.card img,
  section.card ul.reset > li.card img {
    max-height: 160px;
  }
}
